import { CoolDataSource } from './source';
import { ILogger } from '@midwayjs/core';
import { Repository } from 'typeorm';
/**
 * 数据库
 */
export declare class CoolCloudDb {
    coreLogger: ILogger;
    coolDataSource: CoolDataSource;
    config: any;
    init(): Promise<void>;
    /**
     * 获得数据库操作实例
     * @param tableClass 表类
     * @param appId 应用ID
     * @returns
     */
    getRepository(tableClass: string, appId?: string): Repository<any>;
    /**
     * 创建表
     * @param table 表结构，元函数，字符串
     * @param appId 应用ID，确保每个应用的数据隔离
     * @param synchronize 是否同步表结构
     */
    createTable(table: string, synchronize?: boolean, appId?: string): Promise<void>;
    /**
     * 根据字符串查找并生成一个跟appId相关的类名
     * @param code 代码
     * @param appId
     */
    parseCode(code: string, appId?: string): {
        newCode: string;
        className: string;
        tableName: string;
    };
}
