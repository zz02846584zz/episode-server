"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CoolMqttEvent = exports.COOL_MQTT_EVENT_KEY = exports.CoolMqtt = exports.COOL_MQTT_KEY = void 0;
const core_1 = require("@midwayjs/core");
exports.COOL_MQTT_KEY = 'decorator:cool:cls:mqtt';
function CoolMqtt() {
    return (target) => {
        // 将装饰的类，绑定到该装饰器，用于后续能获取到 class
        (0, core_1.saveModule)(exports.COOL_MQTT_KEY, target);
        // 保存一些元数据信息，任意你希望存的东西
        (0, core_1.saveClassMetadata)(exports.COOL_MQTT_KEY, {}, target);
        // 指定 IoC 容器创建实例的作用域，这里注册为请求作用域，这样能取到 ctx
        (0, core_1.Scope)(core_1.ScopeEnum.Singleton)(target);
    };
}
exports.CoolMqtt = CoolMqtt;
exports.COOL_MQTT_EVENT_KEY = 'decorator:cool:mqtt:event';
/**
 * 事件
 * @param eventName
 * @returns
 */
function CoolMqttEvent(eventName) {
    return (target, propertyKey, descriptor) => {
        // 将装饰的类，绑定到该装饰器，用于后续能获取到 class
        (0, core_1.attachClassMetadata)(exports.COOL_MQTT_EVENT_KEY, {
            eventName,
            propertyKey,
            descriptor,
        }, target);
    };
}
exports.CoolMqttEvent = CoolMqttEvent;
